{{~#each subSchemas~}}
  {{~#unless @first}} | {{/unless~}}
  {{~#if (hasMapping .. @index)}}Derived<{{>inline-type this}}, '{{../discriminator}}', { {{{propName ../discriminator}}}: '{{this.discriminatorValue}}' }>{{~else~}}{{>inline-type this}}{{~/if~}}
{{~/each~}}